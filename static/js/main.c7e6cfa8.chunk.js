(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(4),r=c.n(s),o=(c(12),c(2)),i=c.p+"static/media/logo.03b78ada.svg",l=c(0);var p=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("a",{href:"#",children:Object(l.jsx)("img",{className:"header__logo",src:i,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})})})},u=c.p+"static/media/unknown-avatar.82a6ffa0.jpeg",j=c(7),d=c(5),b=c(6),m=new(function(){function e(t){Object(d.a)(this,e),this._options=t}return Object(b.a)(e,[{key:"_fetch",value:function(e,t){return fetch(this._options.baseUrl+e,Object(j.a)({headers:this._options.headers},t)).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._fetch("/users/me")}},{key:"getInitialCards",value:function(){return this._fetch("/cards")}},{key:"updateUserInfo",value:function(e){return this._fetch("/users/me",{method:"PATCH",body:JSON.stringify(e)})}},{key:"addNewCard",value:function(e){return this._fetch("/cards",{method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return this._fetch("/cards/".concat(e),{method:"DELETE"})}},{key:"setLike",value:function(e){return this._fetch("/cards/likes/".concat(e),{method:"PUT"})}},{key:"deleteLike",value:function(e){return this._fetch("/cards/likes/".concat(e),{method:"DELETE"})}},{key:"changeAvatar",value:function(e){return this._fetch("/users/me/avatar",{method:"PATCH",body:JSON.stringify(e)})}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-28",headers:{authorization:"b1cd0dc5-2b23-4623-93d8-d89ffc3baa40","Content-Type":"application/json"}});var h=function(e){var t=e.card,c=e.onCardClick;return Object(l.jsxs)("li",{className:"card",children:[Object(l.jsx)("button",{type:"button",className:"card__delete-button button"}),Object(l.jsx)("img",{className:"card__img",src:t.link,alt:t.name,onClick:function(){c(t)}}),Object(l.jsxs)("div",{className:"card__items",children:[Object(l.jsx)("h2",{className:"card__capture",children:t.name}),Object(l.jsx)("button",{type:"button",className:"card__like-button button"}),Object(l.jsx)("p",{className:"card__like-counter",children:t.likes.length})]})]})};var f=function(e){var t=e.onEditProfile,c=e.onAddPlace,n=e.onEditAvatar,s=e.onCardClick,r=Object(a.useState)(""),i=Object(o.a)(r,2),p=i[0],j=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),f=b[0],O=b[1],_=Object(a.useState)(u),x=Object(o.a)(_,2),N=x[0],g=x[1],v=Object(a.useState)([]),k=Object(o.a)(v,2),y=k[0],C=k[1];return Object(a.useEffect)((function(){m.getUserInfo().then((function(e){j(e.name),O(e.about),g(e.avatar)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){m.getInitialCards().then((function(e){C(e)})).catch((function(e){console.error(e)}))}),[]),Object(l.jsxs)("main",{className:"main",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsx)("div",{className:"profile__img-wrapper",onClick:n,children:Object(l.jsx)("img",{className:"profile__avatar",src:N,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsxs)("div",{className:"profile__main-info",children:[Object(l.jsx)("h1",{className:"profile__name",children:p}),Object(l.jsx)("button",{type:"button",className:"profile__edit-button button",onClick:t})]}),Object(l.jsx)("p",{className:"profile__description",children:f})]}),Object(l.jsx)("button",{type:"button",className:"profile__add-button button",onClick:c})]}),Object(l.jsx)("section",{className:"cards-section",children:Object(l.jsx)("ul",{className:"cards",children:y.map((function(e){return Object(l.jsx)(h,{card:e,onCardClick:s},e._id)}))})})]})};var O=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyright",children:"\xa92021 Karpova Valentina"})})};var _=function(e){var t=e.card,c=e.onClose;return Object(l.jsx)("div",{className:"popup ".concat(t?"popup_opened":""),children:t&&Object(l.jsxs)("div",{className:"popup__gallery",children:[Object(l.jsx)("button",{type:"button",className:"popup__close",onClick:c}),Object(l.jsxs)("figure",{className:"popup__figure",children:[Object(l.jsx)("img",{className:"popup__img-gallery",src:t.link,alt:t.name}),Object(l.jsx)("figcaption",{className:"popup__figcaption",children:t.name})]})]})})};var x=function(e){return Object(l.jsx)("div",{className:"popup ".concat(e.isOpen?"popup_opened":""),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{type:"button",className:"popup__close",onClick:e.onClose}),Object(l.jsx)("h3",{className:"popup__title",children:e.title}),Object(l.jsxs)("form",{className:" popup__form",name:e.name,children:[e.children,Object(l.jsx)("button",{className:"popup__button button",type:"submit",children:e.submitText})]})]})})};var N=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),r=Object(o.a)(s,2),i=r[0],u=r[1],j=Object(a.useState)(!1),d=Object(o.a)(j,2),b=d[0],m=d[1],h=Object(a.useState)(!1),N=Object(o.a)(h,2),g=N[0],v=N[1],k=Object(a.useState)(void 0),y=Object(o.a)(k,2),C=y[0],S=y[1],T=function(){n(!1),u(!1),m(!1),v(!1),S(void 0)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p,{}),Object(l.jsx)(f,{onAddPlace:function(){u(!i)},onEditAvatar:function(){m(!b)},onEditProfile:function(){n(!c)},onBinClick:function(){v(!g)},onCardClick:function(e){S(e)}}),Object(l.jsx)(O,{}),Object(l.jsx)(_,{card:C,onClose:T}),Object(l.jsxs)(x,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile",submitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:c,onClose:T,children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"popup__input",type:"text",name:"name",id:"popup-profile-title",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",defaultValue:"",required:!0,maxLength:"40",minLength:"2"}),Object(l.jsx)("span",{className:"popup__error-message popup-profile-title-error"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"popup__input",type:"text",name:"about",id:"popup-profile-description",placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435",defaultValue:"",required:!0,maxLength:"200",minLength:"2"}),Object(l.jsx)("span",{className:"popup__error-message popup-profile-description-error"})]})]}),Object(l.jsxs)(x,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"profileaddCard",submitText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:i,onClose:T,children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"popup__input",type:"text",name:"place",id:"popup-place-name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430",required:!0,maxLength:"30",minLength:"2"}),Object(l.jsx)("span",{className:"popup__error-message popup-place-name-error"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"popup__input",type:"url",name:"url",id:"popup-place-url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("span",{className:"popup__error-message popup-place-url-error"})]})]}),Object(l.jsx)(x,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"confirmation",submitText:"\u0414\u0430"}),Object(l.jsx)(x,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"changeAvatar",submitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:b,onClose:T,children:Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{className:"popup__input",type:"url",name:"avatar",id:"popup-change-avatar-url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("span",{className:"popup__error-message popup-change-avatar-url-error"})]})})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),g()}},[[14,1,2]]]);
//# sourceMappingURL=main.c7e6cfa8.chunk.js.map