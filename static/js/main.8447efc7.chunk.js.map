{"version":3,"sources":["images/logo.svg","components/Header.js","images/unknown-avatar.jpeg","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","src","logo","alt","createContext","Card","card","onCardClick","onLikeClick","onDeleteClick","currentUser","useContext","CurrentUserContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardLike","onCardDelete","avatar","fakeDude","about","map","Footer","ImagePopup","onClose","options","this","_options","personalMethod","fetch","baseUrl","headers","then","res","ok","json","Promise","reject","status","_fetch","data","method","body","JSON","stringify","cardId","deleteLike","setLike","authorization","PopupWithForm","props","isOpen","title","onSubmit","children","submitText","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","placeholder","value","required","maxLength","minLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","React","useRef","current","reset","ref","AddPlacePopup","onAddNewCard","setLink","ConfirmationPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmationPopupOpen","setIsConfirmationPopupOpen","undefined","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setCurrentUser","setCards","api","getUserInfo","catch","err","console","log","getInitialCards","error","closeAllPopups","Provider","changeCardLikeStatus","newCard","state","c","user","updateUserInfo","addNewCard","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8447efc7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"#\">\n        <img className=\"header__logo\" src={logo} alt=\"логотип\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/unknown-avatar.82a6ffa0.jpeg\";","import { createContext } from \"react\";\n\nexport default createContext();","import React, { useContext } from \"react\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onLikeClick, onDeleteClick }) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button button ${\n    isOwn ? \"card__delete-button_visible\" : \"\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button button ${\n    isLiked ? \"card__like-button_active\" : \"\"\n  }`;\n\n  return (\n    <li className=\"card\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={() => onDeleteClick(card)}\n      ></button>\n      <img\n        className=\"card__img\"\n        src={card.link}\n        alt={card.name}\n        onClick={() => {\n          onCardClick(card);\n        }}\n      />\n      <div className=\"card__items\">\n        <h2 className=\"card__capture\">{card.name}</h2>\n        <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={() => onLikeClick(card)}\n        ></button>\n        <p className=\"card__like-counter\">{card.likes.length}</p>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport fakeDude from \"../images/unknown-avatar.jpeg\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__img-wrapper\" onClick={onEditAvatar}>\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar || fakeDude}\n            alt=\"аватар\"\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__main-info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button button\"\n              onClick={onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"cards-section\">\n        <ul className=\"cards\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onLikeClick={onCardLike}\n                onDeleteClick={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169;2021 Karpova Valentina</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup ${card ? \"popup_opened\" : \"\"}`}>\n      {card && (\n        <div className=\"popup__gallery\">\n          <button\n            type=\"button\"\n            className=\"popup__close\"\n            onClick={onClose}\n          ></button>\n          <figure className=\"popup__figure\">\n            <img\n              className=\"popup__img-gallery\"\n              src={card.link}\n              alt={card.name}\n            />\n            <figcaption className=\"popup__figcaption\">{card.name}</figcaption>\n          </figure>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  _fetch(personalMethod, options) {\n    return fetch(this._options.baseUrl + personalMethod, {\n      headers: this._options.headers,\n      ...options,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return this._fetch(\"/users/me\");\n  }\n\n  getInitialCards() {\n    return this._fetch(\"/cards\");\n  }\n\n  updateUserInfo(data) {\n    return this._fetch(\"/users/me\", {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  addNewCard(data) {\n    return this._fetch(\"/cards\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._fetch(`/cards/${cardId}`, {\n      method: \"DELETE\",\n    });\n  }\n\n  changeCardLikeStatus(cardId, isLiked) {\n    return isLiked ? this.deleteLike(cardId) : this.setLike(cardId);\n  }\n\n  setLike(cardId) {\n    return this._fetch(`/cards/likes/${cardId}`, {\n      method: \"PUT\",\n    });\n  }\n\n  deleteLike(cardId) {\n    return this._fetch(`/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n    });\n  }\n\n  changeAvatar(data) {\n    return this._fetch(\"/users/me/avatar\", {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n    });\n  }\n}\n\nexport default new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-28\",\n  headers: {\n    authorization: \"b1cd0dc5-2b23-4623-93d8-d89ffc3baa40\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={props.onClose}\n        />\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form\n          className=\" popup__form\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          <button className=\"popup__button button\" type=\"submit\">\n            {props.submitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          name=\"name\"\n          id=\"popup-profile-title\"\n          placeholder=\"Ваше имя\"\n          value={name}\n          required\n          maxLength=\"40\"\n          minLength=\"2\"\n          onChange={(evt) => setName(evt.target.value)}\n        />\n        <span className=\"popup__error-message popup-profile-title-error\"></span>\n      </label>\n      <label>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          name=\"about\"\n          id=\"popup-profile-description\"\n          placeholder=\"Расскажите о себе\"\n          value={description}\n          required\n          maxLength=\"200\"\n          minLength=\"2\"\n          onChange={(evt) => setDescription(evt.target.value)}\n        />\n        <span className=\"popup__error-message popup-profile-description-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React, { useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef(0);\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n    evt.target.reset();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"changeAvatar\"\n      submitText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label>\n        <input\n          className=\"popup__input\"\n          type=\"url\"\n          name=\"avatar\"\n          id=\"popup-change-avatar-url\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__error-message popup-change-avatar-url-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddNewCard }) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddNewCard({ name, link });\n    setName(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"profileaddCard\"\n      submitText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          name=\"place\"\n          id=\"popup-place-name\"\n          placeholder=\"Название места\"\n          required\n          maxLength=\"30\"\n          minLength=\"2\"\n          value={name}\n          onChange={(evt) => setName(evt.target.value)}\n        />\n        <span className=\"popup__error-message popup-place-name-error\"></span>\n      </label>\n      <label>\n        <input\n          className=\"popup__input\"\n          type=\"url\"\n          name=\"url\"\n          id=\"popup-place-url\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          value={link}\n          onChange={(evt) => setLink(evt.target.value)}\n        />\n        <span className=\"popup__error-message popup-place-url-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmationPopup({ isOpen, onClose, onSubmit, card }) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(card);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"confirmation\"\n      submitText=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    ></PopupWithForm>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(undefined);\n  const [cardToDelete, setCardToDelete] = useState(undefined);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(user) {\n    api\n      .updateUserInfo(user)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .changeAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeCardLikeStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleConfirmationSubmit(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .addNewCard(card)\n      .then((newCard) => {\n        setCards((state) => [newCard, ...state]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n\n  const handleConfirmationClick = (card) => {\n    setIsConfirmationPopupOpen(!isConfirmationPopupOpen);\n    setCardToDelete(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmationPopupOpen(false);\n    setSelectedCard(undefined);\n    setCardToDelete(undefined);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardDelete={handleConfirmationClick}\n        onCardLike={handleCardLike}\n      />\n      <Footer />\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddNewCard={handleAddPlaceSubmit}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <ConfirmationPopup\n        isOpen={isConfirmationPopupOpen}\n        onClose={closeAllPopups}\n        onSubmit={handleConfirmationSubmit}\n        card={cardToDelete}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}